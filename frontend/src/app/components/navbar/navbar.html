<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
  <div class="container">
    <a class="navbar-brand fw-bold text-primary fs-3" routerLink="/home">01Blog</a>

    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navContent">
      
      <form class="mx-auto position-relative" style="max-width: 400px;">
  <div class="input-group">
    <span class="input-group-text bg-light border-0"><i class="bi bi-search"></i></span>
    <input type="text" 
           class="form-control bg-light border-0" 
           placeholder="Search users..."
           [(ngModel)]="searchTerm"
           name="search"
           (input)="onSearchChange()"
           (blur)="hideDropdown()">
  </div>

  @if (showDropdown && searchResults.length > 0) {
    <div class="search-results shadow-lg border-0 rounded-3 bg-white position-absolute w-100 mt-2 py-2">
      @for (user of searchResults; track user.id) {
        <div class="d-flex align-items-center justify-content-between px-3 py-2 search-item">
          <div class="d-flex align-items-center">
            <div class="avatar-sm rounded-circle bg-primary text-white d-flex align-items-center justify-content-center me-2 fw-bold" style="width: 32px; height: 32px; font-size: 12px;">
              {{ user.username.charAt(0).toUpperCase() }}
            </div>
            <span class="fw-medium text-dark small">{{ user.username }}</span>
          </div>

        </div>
      }
    </div>
  }
</form>

      <ul class="navbar-nav ms-auto align-items-center">
        
        <li class="nav-item me-3">
<button class="btn btn-primary rounded-pill px-3 fw-bold shadow-sm" 
        data-bs-toggle="modal" 
        data-bs-target="#createPostModal">
    <i class="bi bi-plus-lg me-1"></i> 
    <span class="d-none d-xl-inline">Create Post</span>
</button>
        </li>

        <li class="nav-item me-3 position-relative">
          <a class="nav-link p-0" routerLink="/notifications">
            <i class="bi bi-bell fs-4 text-dark"></i>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem;">
              3
            </span>
          </a>
        </li>

        <li class="nav-item dropdown border-start ps-3">
          <a class="nav-link dropdown-toggle d-flex align-items-center text-dark fw-medium" 
             href="#" id="profileDrop" role="button" data-bs-toggle="dropdown">
            <div class="rounded-circle bg-primary text-white me-2 d-flex align-items-center justify-content-center fw-bold" style="width: 35px; height: 35px;">
              U
            </div>
            <span class="d-none d-md-inline">My Account</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow border-0 mt-2">
            @if (currentUser) {
  <li>
    <a class="dropdown-item py-2" [routerLink]="['/profile', currentUser.username]">
      <i class="bi bi-person me-2"></i> My Profile
    </a>
  </li>
}
            <li><hr class="dropdown-divider"></li>
            <li><button class="dropdown-item py-2 text-danger" (click)="onLogout()"><i class="bi bi-box-arrow-right me-2"></i> Logout</button></li>
          </ul>
        </li>

      </ul>
    </div>
  </div>
</nav>